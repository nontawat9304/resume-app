import{a as O}from"./chunk-MBXSVRR5.js";import{d as D}from"./chunk-QIY6PRGM.js";import{s as N,v as L,y as F}from"./chunk-GCQTPIQW.js";import{Bb as w,F as S,Fa as m,Ja as _,Jb as E,Lb as j,Mb as q,Oa as l,Pb as A,Ua as c,Va as t,Wa as n,Xa as p,cb as I,db as R,fb as C,ib as o,jb as u,kb as v,m as f,rb as k,v as x,x as y,ya as r}from"./chunk-REDDOPKR.js";import{a as g,b}from"./chunk-XXUG4HYI.js";var M=i=>["/p",i];function P(i,a){i&1&&(t(0,"div",9),p(1,"i",10),t(2,"p",11),o(3,"No users or resumes found matching your search."),n(),t(4,"a",12),o(5,"Go Home"),n()())}function U(i,a){if(i&1&&(t(0,"span"),o(1),n()),i&2){let e=R().$implicit;r(),u(e.personalInfo.fullName.charAt(0).toUpperCase())}}function z(i,a){if(i&1&&(t(0,"div",13)(1,"div",14)(2,"div",15),l(3,U,2,1,"span",16),n(),t(4,"h5",17),o(5),n(),t(6,"p",18),o(7),n(),t(8,"p",19),o(9),n(),t(10,"div",20)(11,"a",21),o(12," View Profile "),n()()()()),i&2){let e=a.$implicit;r(2),C("background-image",e.avatar?"url("+e.avatar+")":""),r(),c("ngIf",!e.avatar),r(2),u(e.personalInfo.fullName),r(2),u(e.title),r(2),v(" ",e.personalInfo.summary||"No summary provided"," "),r(2),c("routerLink",k(7,M,e.id))}}var T=class i{constructor(a,e,s,d,h){this.route=a;this.resumeService=e;this.auth=s;this.location=d;this.cd=h}results=[];query="";goBack(){this.location.back()}ngOnInit(){this.route.queryParams.pipe(S(a=>(this.query=a.q||"",this.query?x({resumes:this.resumeService.searchResumes(this.query),users:this.auth.getAllUsers().pipe(y(()=>f([])))}):f({resumes:[],users:[]})))).subscribe(({resumes:a,users:e})=>{this.query?(this.results=a.map(s=>{let d=e.find(h=>h.id===s.userId);return b(g({},s),{avatar:d?.avatar})}),this.cd.detectChanges()):this.results=[]})}static \u0275fac=function(e){return new(e||i)(m(N),m(O),m(F),m(E),m(w))};static \u0275cmp=_({type:i,selectors:[["app-search-results"]],decls:10,vars:3,consts:[[1,"container","mt-5","mb-5","animate__animated","animate__fadeIn"],[1,"d-flex","align-items-center","mb-4"],[1,"btn","btn-primary","rounded-circle","btn-sm","me-3","shadow-sm",2,"width","40px","height","40px","display","flex","align-items","center","justify-content","center",3,"click"],[1,"bi","bi-arrow-left","fs-5"],[1,"fw-bold","mb-0"],[1,"bi","bi-search","me-2","text-primary"],["class","text-center py-5 glass-card",4,"ngIf"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"text-center","py-5","glass-card"],[1,"bi","bi-emoji-frown","display-1","text-muted","opacity-25"],[1,"mt-3","text-muted"],["routerLink","/",1,"btn","btn-outline-primary","mt-2"],[1,"col-md-6","col-lg-4","mb-4"],[1,"glass-card","h-100","p-4","d-flex","flex-column","align-items-center","text-center","animate__animated","animate__fadeInUp"],[1,"rounded-circle","bg-secondary","text-white","d-flex","justify-content-center","align-items-center","mb-3","shadow-sm",2,"width","80px","height","80px","font-size","2rem","background-size","cover","background-position","center"],[4,"ngIf"],[1,"fw-bold","mb-1"],[1,"text-primary","small","mb-3"],[1,"text-muted","small","mb-4","text-truncate",2,"max-width","100%"],[1,"mt-auto"],[1,"btn","btn-primary","rounded-pill","px-4","btn-sm",3,"routerLink"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return s.goBack()}),p(3,"i",3),n(),t(4,"h3",4),p(5,"i",5),o(6),n()(),l(7,P,6,0,"div",6),t(8,"div",7),l(9,z,13,9,"div",8),n()()),e&2&&(r(6),v(' Search Results for "',s.query,'" '),r(),c("ngIf",s.results.length===0),r(2),c("ngForOf",s.results))},dependencies:[A,j,q,L,D],encapsulation:2})};export{T as SearchResultsComponent};
