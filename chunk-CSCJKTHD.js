import{b as j}from"./chunk-TGDGFQOD.js";import{d as A}from"./chunk-65GI75CL.js";import{H as C,K as E,M as N}from"./chunk-DNWAMGRV.js";import{Ea as m,Ia as x,Ib as I,Kb as R,Lb as k,Na as p,Ob as w,Ta as l,Ua as t,Va as n,Wa as u,bb as g,cb as y,eb as S,hb as a,ib as d,jb as f,qb as _,v as b,xa as r}from"./chunk-25PNJEBW.js";import{a as v,b as h}from"./chunk-C6Q5SG76.js";var O=i=>["/p",i];function T(i,o){i&1&&(t(0,"div",9),u(1,"i",10),t(2,"p",11),a(3,"No users or resumes found matching your search."),n(),t(4,"a",12),a(5,"Go Home"),n()())}function M(i,o){if(i&1&&(t(0,"span"),a(1),n()),i&2){let e=y().$implicit;r(),d(e.personalInfo.fullName.charAt(0).toUpperCase())}}function P(i,o){if(i&1&&(t(0,"div",13)(1,"div",14)(2,"div",15),p(3,M,2,1,"span",16),n(),t(4,"h5",17),a(5),n(),t(6,"p",18),a(7),n(),t(8,"p",19),a(9),n(),t(10,"div",20)(11,"a",21),a(12," View Profile "),n()()()()),i&2){let e=o.$implicit;r(2),S("background-image",e.avatar?"url("+e.avatar+")":""),r(),l("ngIf",!e.avatar),r(2),d(e.personalInfo.fullName),r(2),d(e.title),r(2),f(" ",e.personalInfo.summary||"No summary provided"," "),r(2),l("routerLink",_(7,O,e.id))}}var q=class i{constructor(o,e,s,c){this.route=o;this.resumeService=e;this.auth=s;this.location=c}results=[];query="";goBack(){this.location.back()}ngOnInit(){this.route.queryParams.subscribe(o=>{this.query=o.q||"",this.query&&b({resumes:this.resumeService.searchResumes(this.query),users:this.auth.getAllUsers()}).subscribe(({resumes:e,users:s})=>{this.results=e.map(c=>{let L=s.find(F=>F.id===c.userId);return h(v({},c),{avatar:L?.avatar})})})})}static \u0275fac=function(e){return new(e||i)(m(C),m(j),m(N),m(I))};static \u0275cmp=x({type:i,selectors:[["app-search-results"]],decls:10,vars:3,consts:[[1,"container","mt-5","mb-5","animate__animated","animate__fadeIn"],[1,"d-flex","align-items-center","mb-4"],[1,"btn","btn-primary","rounded-circle","btn-sm","me-3","shadow-sm",2,"width","40px","height","40px","display","flex","align-items","center","justify-content","center",3,"click"],[1,"bi","bi-arrow-left","fs-5"],[1,"fw-bold","mb-0"],[1,"bi","bi-search","me-2","text-primary"],["class","text-center py-5 glass-card",4,"ngIf"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"text-center","py-5","glass-card"],[1,"bi","bi-emoji-frown","display-1","text-muted","opacity-25"],[1,"mt-3","text-muted"],["routerLink","/",1,"btn","btn-outline-primary","mt-2"],[1,"col-md-6","col-lg-4","mb-4"],[1,"glass-card","h-100","p-4","d-flex","flex-column","align-items-center","text-center","animate__animated","animate__fadeInUp"],[1,"rounded-circle","bg-secondary","text-white","d-flex","justify-content-center","align-items-center","mb-3","shadow-sm",2,"width","80px","height","80px","font-size","2rem","background-size","cover","background-position","center"],[4,"ngIf"],[1,"fw-bold","mb-1"],[1,"text-primary","small","mb-3"],[1,"text-muted","small","mb-4","text-truncate",2,"max-width","100%"],[1,"mt-auto"],[1,"btn","btn-primary","rounded-pill","px-4","btn-sm",3,"routerLink"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return s.goBack()}),u(3,"i",3),n(),t(4,"h3",4),u(5,"i",5),a(6),n()(),p(7,T,6,0,"div",6),t(8,"div",7),p(9,P,13,9,"div",8),n()()),e&2&&(r(6),f(' Search Results for "',s.query,'" '),r(),l("ngIf",s.results.length===0),r(2),l("ngForOf",s.results))},dependencies:[w,R,k,E,A],encapsulation:2})};export{q as SearchResultsComponent};
