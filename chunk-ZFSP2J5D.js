import{a as V,b as G}from"./chunk-EVGADCQC.js";import"./chunk-4RE2LG7S.js";import"./chunk-FK6H3RFT.js";import{c as z,d as M}from"./chunk-QIY6PRGM.js";import{s as L,v as q,y as U}from"./chunk-GCQTPIQW.js";import{Bb as F,F as k,Fa as f,Ja as D,Jb as N,Lb as j,Mb as A,Nb as P,Oa as s,Pb as $,Ua as l,Va as a,Wa as n,Xa as x,Y as w,Z as T,bb as O,cb as I,db as d,fb as S,ib as r,jb as m,kb as v,lb as _,m as b,rb as B,sb as p,tb as c,v as E,x as C,ya as i}from"./chunk-REDDOPKR.js";import{a as R,b as y}from"./chunk-XXUG4HYI.js";var J=t=>["/p",t];function K(t,o){t&1&&(a(0,"div",10),x(1,"i",11),a(2,"p",12),r(3,"No users or resumes found matching your search."),n(),a(4,"a",13),r(5,"Go Home"),n()())}function W(t,o){if(t&1&&(a(0,"span"),r(1),n()),t&2){let e=d().$implicit;i(),m(e.personalInfo.fullName.charAt(0).toUpperCase())}}function X(t,o){if(t&1){let e=O();a(0,"div",14)(1,"div",15)(2,"div",16),s(3,W,2,1,"span",17),n(),a(4,"h5",18),r(5),n(),a(6,"p",19),r(7),n(),a(8,"p",20),r(9),n(),a(10,"div",21)(11,"a",22),r(12," View Profile "),n(),a(13,"button",23),I("click",function(){let h=w(e).$implicit,g=d();return T(g.onExport(h))}),x(14,"i",24),n()()()()}if(t&2){let e=o.$implicit;i(2),S("background-image",e.avatar?"url("+e.avatar+")":""),i(),l("ngIf",!e.avatar),i(2),m(e.personalInfo.fullName),i(2),m(e.title),i(2),v(" ",e.personalInfo.summary||"No summary provided"," "),i(2),l("routerLink",B(7,J,e.id))}}function Y(t,o){if(t&1&&x(0,"div",40),t&2){let e=d(2);S("background-image","url("+e.exportResume.avatar+")")}}function Q(t,o){if(t&1&&(a(0,"span"),x(1,"i",41),r(2),n()),t&2){let e=d(2);i(2),m(e.exportResume.personalInfo.phone)}}function Z(t,o){t&1&&(a(0,"span",32),r(1,"|"),n())}function ee(t,o){if(t&1&&(a(0,"span"),x(1,"i",42),r(2),n()),t&2){let e=d(2);i(2),m(e.exportResume.personalInfo.location)}}function te(t,o){if(t&1&&(a(0,"section",36)(1,"h4",37),r(2),p(3,"translate"),n(),a(4,"p"),r(5),n()()),t&2){let e=d(2);i(2),m(c(3,2,"EDITOR.SUMMARY")),i(3),m(e.exportResume.personalInfo.summary)}}function ie(t,o){if(t&1&&(a(0,"div",43)(1,"div",44)(2,"h5",45),r(3),a(4,"span",46),r(5),p(6,"translate"),n()(),a(7,"small",47),r(8),p(9,"date"),p(10,"translate"),p(11,"date"),n()(),a(12,"p",48),r(13),n()()),t&2){let e=o.$implicit;i(3),v(" ",e.title," "),i(2),_("",c(6,6,"EDITOR.AT")," ",e.company),i(3),_(" ",c(9,8,e.startDate)," - ",e.currentlyWorking?c(10,10,"EDITOR.PRESENT"):c(11,12,e.endDate)," "),i(5),m(e.description)}}function ne(t,o){if(t&1&&(a(0,"span",56),r(1),n()),t&2){let e=d().$implicit;i(),m(e.courseCode)}}function ae(t,o){if(t&1&&(a(0,"div",50)(1,"div",51)(2,"div",52)(3,"h5",53),r(4),a(5,"span",46),r(6),p(7,"translate"),n()(),a(8,"small",47),r(9),p(10,"date"),p(11,"date"),n()(),a(12,"div",54),s(13,ne,2,1,"span",55),n()()()),t&2){let e=o.$implicit;i(4),v(" ",e.name," "),i(2),_("",c(7,6,"EDITOR.AT")," ",e.issuer),i(3),_(" ",c(10,8,e.startDate)," - ",c(11,10,e.endDate)," "),i(4),l("ngIf",e.courseCode)}}function re(t,o){if(t&1&&(a(0,"section",36)(1,"h4",37),r(2),p(3,"translate"),n(),a(4,"div",7),s(5,ae,14,12,"div",49),n()()),t&2){let e=d(2);i(2),m(c(3,2,"EDITOR.TRAINING")),i(3),l("ngForOf",e.exportResume.training)}}function oe(t,o){if(t&1&&(a(0,"span",57),r(1),n()),t&2){let e=d().$implicit;i(),v(", ",e.fieldOfStudy)}}function le(t,o){if(t&1&&(a(0,"div",43)(1,"div",54)(2,"span",57),r(3),n(),s(4,oe,2,1,"span",58),a(5,"span",46),r(6),p(7,"translate"),n(),a(8,"small",59),r(9),p(10,"date"),p(11,"date"),n()()()),t&2){let e=o.$implicit;i(3),m(e.degree),i(),l("ngIf",e.fieldOfStudy),i(2),_(" ",c(7,6,"EDITOR.AT")," ",e.school),i(3),_(" (",e.startDate?c(10,8,e.startDate)+" - ":"","",c(11,10,e.graduationDate),") ")}}function me(t,o){if(t&1&&(a(0,"li",62),r(1),n()),t&2){let e=o.$implicit;i(),v(" ",e," ")}}function se(t,o){if(t&1&&(a(0,"section",36)(1,"h4",37),r(2),p(3,"translate"),n(),a(4,"ul",60),s(5,me,2,1,"li",61),n()()),t&2){let e=d(2);i(2),m(c(3,2,"EDITOR.SKILLS")),i(3),l("ngForOf",e.exportResume.skills)}}function pe(t,o){if(t&1&&(a(0,"div",25)(1,"header",26),s(2,Y,1,2,"div",27),a(3,"div")(4,"h1",28),r(5),n(),a(6,"p",29),r(7),n(),a(8,"div",30)(9,"span"),x(10,"i",31),r(11),n(),a(12,"span",32),r(13,"|"),n(),s(14,Q,3,1,"span",17)(15,Z,2,0,"span",33)(16,ee,3,1,"span",17),n()()(),a(17,"div",7)(18,"div",34),s(19,te,6,4,"section",35),a(20,"section",36)(21,"h4",37),r(22),p(23,"translate"),n(),s(24,ie,14,14,"div",38),n(),s(25,re,6,4,"section",35),n(),a(26,"div",39)(27,"section",36)(28,"h4",37),r(29),p(30,"translate"),n(),s(31,le,12,12,"div",38),n(),s(32,se,6,4,"section",35),n()()()),t&2){let e=d();i(2),l("ngIf",e.exportResume.avatar),i(3),m(e.exportResume.personalInfo.fullName),i(2),m(e.exportResume.title),i(4),m(e.exportResume.personalInfo.email),i(3),l("ngIf",e.exportResume.personalInfo.phone),i(),l("ngIf",e.exportResume.personalInfo.phone),i(),l("ngIf",e.exportResume.personalInfo.location),i(3),l("ngIf",e.exportResume.personalInfo.summary),i(3),m(c(23,14,"EDITOR.EXPERIENCE")),i(2),l("ngForOf",e.exportResume.experience),i(),l("ngIf",e.exportResume.training&&e.exportResume.training.length>0),i(4),m(c(30,16,"EDITOR.EDUCATION")),i(2),l("ngForOf",e.exportResume.education),i(),l("ngIf",e.exportResume.skills&&e.exportResume.skills.length>0)}}var H=class t{constructor(o,e,u,h,g,ce){this.route=o;this.resumeService=e;this.auth=u;this.location=h;this.cd=g;this.pdfService=ce}results=[];query="";goBack(){this.location.back()}exportResume=null;onExport(o){this.exportResume=o,this.cd.detectChanges(),setTimeout(()=>{o.personalInfo&&this.pdfService.exportToPdf("search-export-container",`profile-${o.personalInfo.fullName}`,"theme-modern")},100)}ngOnInit(){this.route.queryParams.pipe(k(o=>(this.query=o.q||"",this.query?E({resumes:this.resumeService.searchResumes(this.query),users:this.auth.getAllUsers().pipe(C(()=>b([])))}):b({resumes:[],users:[]})))).subscribe(({resumes:o,users:e})=>{this.query?(this.results=o.map(u=>{let h=e.find(g=>g.id===u.userId);return y(R({},u),{avatar:h?.avatar})}),this.cd.detectChanges()):this.results=[]})}static \u0275fac=function(e){return new(e||t)(f(L),f(V),f(U),f(N),f(F),f(G))};static \u0275cmp=D({type:t,selectors:[["app-search-results"]],decls:11,vars:4,consts:[[1,"container","mt-5","mb-5","animate__animated","animate__fadeIn"],[1,"d-flex","align-items-center","mb-4"],[1,"btn","btn-primary","rounded-circle","btn-sm","me-3","shadow-sm",2,"width","40px","height","40px","display","flex","align-items","center","justify-content","center",3,"click"],[1,"bi","bi-arrow-left","fs-5"],[1,"fw-bold","mb-0"],[1,"bi","bi-search","me-2","text-primary"],["class","text-center py-5 glass-card",4,"ngIf"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],["id","search-export-container","class","resume-paper shadow-lg p-5 bg-white text-dark position-absolute top-0 start-0 d-none","style","width: 210mm; min-height: 297mm; z-index: -1000; font-size: 1.1rem;",4,"ngIf"],[1,"text-center","py-5","glass-card"],[1,"bi","bi-emoji-frown","display-1","text-muted","opacity-25"],[1,"mt-3","text-muted"],["routerLink","/",1,"btn","btn-outline-primary","mt-2"],[1,"col-md-6","col-lg-4","mb-4"],[1,"glass-card","h-100","p-4","d-flex","flex-column","align-items-center","text-center","animate__animated","animate__fadeInUp"],[1,"rounded-circle","bg-secondary","text-white","d-flex","justify-content-center","align-items-center","mb-3","shadow-sm",2,"width","80px","height","80px","font-size","2rem","background-size","cover","background-position","center"],[4,"ngIf"],[1,"fw-bold","mb-1"],[1,"text-primary","small","mb-3"],[1,"text-muted","small","mb-4","text-truncate",2,"max-width","100%"],[1,"mt-auto","d-flex","gap-2"],[1,"btn","btn-primary","rounded-pill","px-4","btn-sm",3,"routerLink"],["title","Export PDF",1,"btn","btn-outline-info","rounded-pill","px-3","btn-sm",3,"click"],[1,"bi","bi-file-earmark-pdf"],["id","search-export-container",1,"resume-paper","shadow-lg","p-5","bg-white","text-dark","position-absolute","top-0","start-0","d-none",2,"width","210mm","min-height","297mm","z-index","-1000","font-size","1.1rem"],[1,"border-bottom","pb-3","mb-3","d-flex","align-items-center"],["class","me-4 rounded-circle bg-light d-flex justify-content-center align-items-center shadow-sm","style","width: 100px; height: 100px; min-width: 100px; background-size: cover; background-position: center;",3,"background-image",4,"ngIf"],[1,"display-4","fw-bold","text-uppercase","text-primary"],[1,"lead","mb-0","text-dark"],[1,"text-muted","mt-2"],[1,"bi","bi-envelope-fill","me-2"],[1,"mx-2"],["class","mx-2",4,"ngIf"],[1,"col-md-8"],["class","mb-4",4,"ngIf"],[1,"mb-4"],[1,"text-uppercase","fw-bold","text-dark","mb-3"],["class","mb-3 pb-2 border-bottom",4,"ngFor","ngForOf"],[1,"col-md-4","border-start","ps-4"],[1,"me-4","rounded-circle","bg-light","d-flex","justify-content-center","align-items-center","shadow-sm",2,"width","100px","height","100px","min-width","100px","background-size","cover","background-position","center"],[1,"bi","bi-telephone-fill","me-2"],[1,"bi","bi-geo-alt-fill","me-2"],[1,"mb-3","pb-2","border-bottom"],[1,"d-flex","justify-content-between","align-items-baseline","mb-1"],[1,"fw-normal","mb-0","text-dark"],[1,"text-muted","fw-normal"],[1,"text-secondary","text-nowrap","ms-3"],[1,"text-dark","mb-0","small",2,"line-height","1.5"],["class","col-12 mb-4",4,"ngFor","ngForOf"],[1,"col-12","mb-4"],[1,"mb-2"],[1,"d-flex","justify-content-between","align-items-baseline"],[1,"fw-semibold","mb-0","text-dark"],[1,"mb-1"],["class","badge bg-light text-dark border me-2 fw-normal",4,"ngIf"],[1,"badge","bg-light","text-dark","border","me-2","fw-normal"],[1,"fw-normal","text-dark"],["class","fw-normal text-dark",4,"ngIf"],[1,"text-secondary","ms-2"],[1,"list-unstyled"],["class","mb-1 text-dark border-bottom pb-1 small",4,"ngFor","ngForOf"],[1,"mb-1","text-dark","border-bottom","pb-1","small"]],template:function(e,u){e&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return u.goBack()}),x(3,"i",3),n(),a(4,"h3",4),x(5,"i",5),r(6),n()(),s(7,K,6,0,"div",6),a(8,"div",7),s(9,X,15,9,"div",8),n(),s(10,pe,33,18,"div",9),n()),e&2&&(i(6),v(' Search Results for "',u.query,'" '),i(),l("ngIf",u.results.length===0),i(2),l("ngForOf",u.results),i(),l("ngIf",u.exportResume))},dependencies:[$,j,A,q,M,P,z],encapsulation:2})};export{H as SearchResultsComponent};
