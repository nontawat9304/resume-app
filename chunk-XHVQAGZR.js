import{a as O}from"./chunk-4NCAY6NN.js";import{d as D}from"./chunk-5EVQ73OQ.js";import{s as N,v as L,y as F}from"./chunk-EH3J5CVT.js";import{F as S,Fa as m,Hb as E,Ja as _,Jb as j,Kb as q,Mb as A,Oa as l,Ua as c,Va as i,Wa as n,Xa as p,cb as I,db as R,fb as C,hb as o,ib as u,jb as h,m as f,pb as k,v as x,x as y,ya as a,zb as w}from"./chunk-HRRBVR6H.js";import{a as g,b}from"./chunk-XXUG4HYI.js";var M=r=>["/p",r];function P(r,t){r&1&&(i(0,"div",9),p(1,"i",10),i(2,"p",11),o(3,"No users or resumes found matching your search."),n(),i(4,"a",12),o(5,"Go Home"),n()())}function U(r,t){if(r&1&&(i(0,"span"),o(1),n()),r&2){let e=R().$implicit;a(),u(e.personalInfo.fullName.charAt(0).toUpperCase())}}function z(r,t){if(r&1&&(i(0,"div",13)(1,"div",14)(2,"div",15),l(3,U,2,1,"span",16),n(),i(4,"h5",17),o(5),n(),i(6,"p",18),o(7),n(),i(8,"p",19),o(9),n(),i(10,"div",20)(11,"a",21),o(12," View Profile "),n()()()()),r&2){let e=t.$implicit;a(2),C("background-image",e.avatar?"url("+e.avatar+")":""),a(),c("ngIf",!e.avatar),a(2),u(e.personalInfo.fullName),a(2),u(e.title),a(2),h(" ",e.personalInfo.summary||"No summary provided"," "),a(2),c("routerLink",k(7,M,e.id))}}var T=class r{constructor(t,e,s,d,v){this.route=t;this.resumeService=e;this.auth=s;this.location=d;this.cd=v}results=[];query="";goBack(){this.location.back()}ngOnInit(){this.route.queryParams.pipe(S(t=>(this.query=t.q||"",console.log("Search Query:",this.query),this.query?x({resumes:this.resumeService.searchResumes(this.query),users:this.auth.getAllUsers().pipe(y(()=>f([])))}):f({resumes:[],users:[]})))).subscribe(({resumes:t,users:e})=>{console.log("Search Results:",t),this.query?(this.results=t.map(s=>{let d=e.find(v=>v.id===s.userId);return b(g({},s),{avatar:d?.avatar})}),this.cd.detectChanges()):this.results=[]},t=>{console.error("Search Error:",t)})}static \u0275fac=function(e){return new(e||r)(m(N),m(O),m(F),m(E),m(w))};static \u0275cmp=_({type:r,selectors:[["app-search-results"]],decls:10,vars:3,consts:[[1,"container","mt-5","mb-5","animate__animated","animate__fadeIn"],[1,"d-flex","align-items-center","mb-4"],[1,"btn","btn-primary","rounded-circle","btn-sm","me-3","shadow-sm",2,"width","40px","height","40px","display","flex","align-items","center","justify-content","center",3,"click"],[1,"bi","bi-arrow-left","fs-5"],[1,"fw-bold","mb-0"],[1,"bi","bi-search","me-2","text-primary"],["class","text-center py-5 glass-card",4,"ngIf"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"text-center","py-5","glass-card"],[1,"bi","bi-emoji-frown","display-1","text-muted","opacity-25"],[1,"mt-3","text-muted"],["routerLink","/",1,"btn","btn-outline-primary","mt-2"],[1,"col-md-6","col-lg-4","mb-4"],[1,"glass-card","h-100","p-4","d-flex","flex-column","align-items-center","text-center","animate__animated","animate__fadeInUp"],[1,"rounded-circle","bg-secondary","text-white","d-flex","justify-content-center","align-items-center","mb-3","shadow-sm",2,"width","80px","height","80px","font-size","2rem","background-size","cover","background-position","center"],[4,"ngIf"],[1,"fw-bold","mb-1"],[1,"text-primary","small","mb-3"],[1,"text-muted","small","mb-4","text-truncate",2,"max-width","100%"],[1,"mt-auto"],[1,"btn","btn-primary","rounded-pill","px-4","btn-sm",3,"routerLink"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return s.goBack()}),p(3,"i",3),n(),i(4,"h3",4),p(5,"i",5),o(6),n()(),l(7,P,6,0,"div",6),i(8,"div",7),l(9,z,13,9,"div",8),n()()),e&2&&(a(6),h(' Search Results for "',s.query,'" '),a(),c("ngIf",s.results.length===0),a(2),c("ngForOf",s.results))},dependencies:[A,j,q,L,D],encapsulation:2})};export{T as SearchResultsComponent};
